import DirectedGraph from '../classes/DirectedGraph.js';
import LOCATIONS from './locations.js';
import AGES from './ages.js';
import TIME_OF_DAY from './timeOfDay.js';
import DUNGEON_REWARDS from './dungeonRewards.js';
import ITEMS from './items.js';

const locationsGraph = new DirectedGraph();
for(const location in LOCATIONS) {
    locationsGraph.addVertex(location);
}

// HF connections
locationsGraph.addEdge(LOCATIONS.HYRULE_FIELD, LOCATIONS.LON_LON_RANCH, {});
locationsGraph.addEdge(LOCATIONS.HYRULE_FIELD, LOCATIONS.MARKET, {});
locationsGraph.addEdge(LOCATIONS.HYRULE_FIELD, LOCATIONS.KAKARIKO_VILLAGE, {});
locationsGraph.addEdge(LOCATIONS.HYRULE_FIELD, LOCATIONS.ZORA_RIVER, {});
locationsGraph.addEdge(LOCATIONS.HYRULE_FIELD, LOCATIONS.KOKIRI_FOREST, {});
locationsGraph.addEdge(LOCATIONS.HYRULE_FIELD, LOCATIONS.LAKE_HYLIA, {});
locationsGraph.addEdge(LOCATIONS.HYRULE_FIELD, LOCATIONS.GERUDO_VALLEY, {});

// LLR
locationsGraph.addEdge(LOCATIONS.LON_LON_RANCH, LOCATIONS.HYRULE_FIELD, {});

// MKT
locationsGraph.addEdge(LOCATIONS.MARKET, LOCATIONS.HYRULE_FIELD, { 
    or: {
        and: {
            is: AGES.CHILD,
            on: TIME_OF_DAY.DAY,
        },
        is: AGES.ADULT
    }
});
locationsGraph.addEdge(LOCATIONS.MARKET, LOCATIONS.HYRULE_CASTLE, {
    is: AGES.CHILD,
});
locationsGraph.addEdge(LOCATIONS.MARKET, LOCATIONS.TEMPLE_OF_TIME, {});
locationsGraph.addEdge(LOCATIONS.MARKET, LOCATIONS.OUTSIDE_GANON_CASTLE, {
    is: AGES.ADULT,
});

// HC
locationsGraph.addEdge(LOCATIONS.HYRULE_CASTLE, LOCATIONS.MARKET, {
    is: AGES.CHILD,
});

// TOT
locationsGraph.addEdge(LOCATIONS.TEMPLE_OF_TIME, LOCATIONS.MARKET, {});
locationsGraph.addEdge(LOCATIONS.TEMPLE_OF_TIME, LOCATIONS.MASTER_SWORD_PEDESTAL, {
    or: {
        and: {
            is: AGES.CHILD,
            has: [
                DUNGEON_REWARDS.KOKIRI_EMERALD,
                DUNGEON_REWARDS.GORON_RUBY,
                DUNGEON_REWARDS.ZORA_SAPPHIRE,
            ]
        },
        is: AGES.ADULT,
    }
});

locationsGraph.addEdge(LOCATIONS.MASTER_SWORD_PEDESTAL, LOCATIONS.TEMPLE_OF_TIME, {});

// OGC
locationsGraph.addEdge(LOCATIONS.OUTSIDE_GANON_CASTLE, LOCATIONS.MARKET, {
    is: AGES.ADULT,
});
locationsGraph.addEdge(LOCATIONS.OUTSIDE_GANON_CASTLE, LOCATIONS.INSIDE_GANON_CASTLE, {
    and: {
        is: AGES.ADULT,
        has: [
            DUNGEON_REWARDS.LIGHT_MEDALION,
            DUNGEON_REWARDS.FOREST_MEDALION,
            DUNGEON_REWARDS.FIRE_MEDALION,
            DUNGEON_REWARDS.WATER_MEDALION,
            DUNGEON_REWARDS.SHADOW_MEDALION,
            DUNGEON_REWARDS.SPIRIT_MEDALION,
        ],
    }
});

// IGC
locationsGraph.addEdge(LOCATIONS.INSIDE_GANON_CASTLE, LOCATIONS.OUTSIDE_GANON_CASTLE, {});

// KAK
locationsGraph.addEdge(LOCATIONS.KAKARIKO_VILLAGE, LOCATIONS.HYRULE_FIELD, {});
locationsGraph.addEdge(LOCATIONS.KAKARIKO_VILLAGE, LOCATIONS.GRAVEYARD, {});
locationsGraph.addEdge(LOCATIONS.KAKARIKO_VILLAGE, LOCATIONS.DEATH_MOUNTAIN_TRAIL, {
    and: {
        is: AGES.CHILD,
        has: ITEMS.ZELDA_LETTER,
    }
});
locationsGraph.addEdge(LOCATIONS.KAKARIKO_VILLAGE, LOCATIONS.BOTTOM_OF_THE_WELL);

// GRY
locationsGraph.addEdge(LOCATIONS.GRAVEYARD, LOCATIONS.KAKARIKO_VILLAGE);
locationsGraph.addEdge(LOCATIONS.GRAVEYARD, LOCATIONS.SHADOW_TEMPLE);

// DMT
locationsGraph.addEdge(LOCATIONS.DEATH_MOUNTAIN_TRAIL, LOCATIONS.KAKARIKO_VILLAGE);
locationsGraph.addEdge(LOCATIONS.DEATH_MOUNTAIN_TRAIL, LOCATIONS.DEATH_MOUNTAIN_CRATER);
locationsGraph.addEdge(LOCATIONS.DEATH_MOUNTAIN_TRAIL, LOCATIONS.GORON_CITY);
locationsGraph.addEdge(LOCATIONS.DEATH_MOUNTAIN_TRAIL, LOCATIONS.DODONGO_CAVERN);

// DMC
locationsGraph.addEdge(LOCATIONS.DEATH_MOUNTAIN_CRATER, LOCATIONS.DEATH_MOUNTAIN_TRAIL);
locationsGraph.addEdge(LOCATIONS.DEATH_MOUNTAIN_CRATER, LOCATIONS.GORON_CITY);
locationsGraph.addEdge(LOCATIONS.DEATH_MOUNTAIN_CRATER, LOCATIONS.FIRE_TEMPLE);

// GC
locationsGraph.addEdge(LOCATIONS.GORON_CITY, LOCATIONS.DEATH_MOUNTAIN_CRATER);
locationsGraph.addEdge(LOCATIONS.GORON_CITY, LOCATIONS.DEATH_MOUNTAIN_TRAIL);
locationsGraph.addEdge(LOCATIONS.GORON_CITY, LOCATIONS.LOST_WOODS);

// ZR
locationsGraph.addEdge(LOCATIONS.ZORA_RIVER, LOCATIONS.LOST_WOODS);
locationsGraph.addEdge(LOCATIONS.ZORA_RIVER, LOCATIONS.HYRULE_FIELD);
locationsGraph.addEdge(LOCATIONS.ZORA_RIVER, LOCATIONS.ZORA_DOMAIN);

// ZD
locationsGraph.addEdge(LOCATIONS.ZORA_DOMAIN, LOCATIONS.ZORA_RIVER);
locationsGraph.addEdge(LOCATIONS.ZORA_DOMAIN, LOCATIONS.ZORA_FOUNTAIN);
locationsGraph.addEdge(LOCATIONS.ZORA_DOMAIN, LOCATIONS.LAKE_HYLIA);

// ZF
locationsGraph.addEdge(LOCATIONS.ZORA_FOUNTAIN, LOCATIONS.ZORA_DOMAIN);
locationsGraph.addEdge(LOCATIONS.ZORA_FOUNTAIN, LOCATIONS.ICE_CAVERN);
locationsGraph.addEdge(LOCATIONS.ZORA_FOUNTAIN, LOCATIONS.JABU_JABU);

// LW
locationsGraph.addEdge(LOCATIONS.LOST_WOODS, LOCATIONS.KOKIRI_FOREST);
locationsGraph.addEdge(LOCATIONS.LOST_WOODS, LOCATIONS.SACRED_FOREST_MEADOW);
locationsGraph.addEdge(LOCATIONS.LOST_WOODS, LOCATIONS.GORON_CITY);
locationsGraph.addEdge(LOCATIONS.LOST_WOODS, LOCATIONS.ZORA_RIVER);

// SFM
locationsGraph.addEdge(LOCATIONS.SACRED_FOREST_MEADOW, LOCATIONS.LOST_WOODS);
locationsGraph.addEdge(LOCATIONS.SACRED_FOREST_MEADOW, LOCATIONS.FOREST_TEMPLE);

// KF
locationsGraph.addEdge(LOCATIONS.KOKIRI_FOREST, LOCATIONS.HYRULE_FIELD);
locationsGraph.addEdge(LOCATIONS.KOKIRI_FOREST, LOCATIONS.LOST_WOODS);
locationsGraph.addEdge(LOCATIONS.KOKIRI_FOREST, LOCATIONS.DEKU_TREE);

// LH
locationsGraph.addEdge(LOCATIONS.LAKE_HYLIA, LOCATIONS.ZORA_DOMAIN);
locationsGraph.addEdge(LOCATIONS.LAKE_HYLIA, LOCATIONS.WATER_TEMPLE);
locationsGraph.addEdge(LOCATIONS.LAKE_HYLIA, LOCATIONS.HYRULE_FIELD);

// GV
locationsGraph.addEdge(LOCATIONS.GERUDO_VALLEY, LOCATIONS.HYRULE_FIELD);
locationsGraph.addEdge(LOCATIONS.GERUDO_VALLEY, LOCATIONS.GERUDO_FORTRESS);
locationsGraph.addEdge(LOCATIONS.GERUDO_VALLEY, LOCATIONS.LAKE_HYLIA);

// GF
locationsGraph.addEdge(LOCATIONS.GERUDO_FORTRESS, LOCATIONS.GERUDO_VALLEY);
locationsGraph.addEdge(LOCATIONS.GERUDO_FORTRESS, LOCATIONS.HAUNTED_WASTELAND);
locationsGraph.addEdge(LOCATIONS.GERUDO_FORTRESS, LOCATIONS.GERUDO_TRAINING_GROUNDS);

// HW
locationsGraph.addEdge(LOCATIONS.HAUNTED_WASTELAND, LOCATIONS.GERUDO_FORTRESS);
locationsGraph.addEdge(LOCATIONS.HAUNTED_WASTELAND, LOCATIONS.DESERT_COLOSSUS);

// DCO
locationsGraph.addEdge(LOCATIONS.DESERT_COLOSSUS, LOCATIONS.HAUNTED_WASTELAND);
locationsGraph.addEdge(LOCATIONS.DESERT_COLOSSUS, LOCATIONS.SPIRIT_TEMPLE);

// Deku
locationsGraph.addEdge(LOCATIONS.DEKU_TREE, LOCATIONS.KOKIRI_FOREST);

// DC
locationsGraph.addEdge(LOCATIONS.DODONGO_CAVERN, LOCATIONS.DEATH_MOUNTAIN_TRAIL);

// Jabu
locationsGraph.addEdge(LOCATIONS.JABU_JABU, LOCATIONS.ZORA_FOUNTAIN);

// Forest
locationsGraph.addEdge(LOCATIONS.FOREST_TEMPLE, LOCATIONS.SACRED_FOREST_MEADOW);

// Fire
locationsGraph.addEdge(LOCATIONS.FIRE_TEMPLE, LOCATIONS.DEATH_MOUNTAIN_CRATER);

// Water
locationsGraph.addEdge(LOCATIONS.WATER_TEMPLE, LOCATIONS.LAKE_HYLIA);

// Shadow
locationsGraph.addEdge(LOCATIONS.SHADOW_TEMPLE, LOCATIONS.GRAVEYARD);

// Spirit
locationsGraph.addEdge(LOCATIONS.SPIRIT_TEMPLE, LOCATIONS.DESERT_COLOSSUS);

// GTG
locationsGraph.addEdge(LOCATIONS.GERUDO_TRAINING_GROUNDS, LOCATIONS.GERUDO_FORTRESS);

// BotW
locationsGraph.addEdge(LOCATIONS.BOTTOM_OF_THE_WELL, LOCATIONS.KAKARIKO_VILLAGE);

// Ice
locationsGraph.addEdge(LOCATIONS.ICE_CAVERN, LOCATIONS.ZORA_FOUNTAIN);
